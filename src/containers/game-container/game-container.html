<template>
  <require from="./game-container.css"></require>
  <require from="../../styles/utility-styles.css"></require>

  <div class="container">
    <div class="page-header" no-select>
      <bs-row lg="8" md="7" sm="6">
        <h1><img style="width:50px;height:50px" src="icon.png"> Typerace</h1>
      </bs-row>
    </div>
  
    <bs-row if.bind="showLoadingBanner">
      <h3 no-select class="text-center"><i class="fa fa-circle-o-notch fa-spin"></i> ${loadingText}</h3>
    </bs-row>
  
    <bs-row if.bind="showNicknameForm">
      <div class="form-group">
        <h6>Provide a nickname</h5>
        <input
          take-focus
          key-return.call="handleSetNicknameClick()"
          class="form-control"
          type="text"
          value.bind="currentNickname"
          placeholder="">
      </div>

      <button click.trigger="handleSetNicknameClick()"
        disabled.bind="!canSetNickname"
        class="btn btn-primary btn-block">Begin</button>
    </bs-row>

    <bs-row if.bind="showTutorial">
      <p>TODO!</p>
    </bs-row>
  
    <bs-row if.bind="showJoinGameForm">
      <button
        take-focus
        class="btn btn-success btn-block"
        click.trigger="handleJoinGameClick()">${showTutorial ? 'Got it!' : 'Join game'}</button>
    </bs-row>

    <bs-row>
      <h4 no-select id="score-container" class="${!showCurrentScore ? 'hidden' : ''}">
        <span id="score-wrapper">
          <i class="fa fa-star"></i> ${currentScoreString}
      </span>
      </h4>
    </bs-row>

    <bs-row if.bind="showGameArea">
      <div class="animated fadeIn pulse type-area" if.bind="showChallengeArea">
        <div no-select>
          <h2 class="text-center"><small>Challenge:</small></h2>
          <h2 class="text-center"><em>${currentWord}</em></h2>
        </div>
        <input 
          take-focus
          type="text"
          key-return.call="handleWordSubmit()"
          class="form-control"
          disabled.bind="isWordInputDisabled"
          value.bind="typedWord"
        >
      </div>

      <div class="type-area" if.bind="showChallengeWaitArea">
        <h3 no-select class="text-center"><i class="fa fa-circle-o-notch fa-spin"></i> ${challengeWaitText}</h3>
      </div>
    </bs-row>

    <bs-row>
      <div id="message-banner" no-select class="animated fadeIn ${!showMessageBanner ? 'hidden' : ''}">
        <h2 class="text-center">
          <strong id="message-text-container">${currentMessage}</strong>
        </h2>
      </div>
    </bs-row>

    <bs-row>
      <div id="victory-banner" no-select class="message-banner animated fadeIn ${!showWinStatus ? 'hidden' : ''}">
        <h2 class="text-center ${didWin ? 'victory-text' : 'loss-text'}">
          <strong id="victory-text-container">${didWin ? 'You won!' : 'You lost!'}</strong>
        </h2>
      </div>
    </bs-row>
  </div> <!--/.container-->

</template>